AUI.add("liferay-search-bar",(e=>{const t=function SearchBar(t){if(!t)return;const r=this;r.form=t,r.form.on("submit",e.bind(r._onSubmit,r));const a=r.form.one(".search-bar-empty-search-input");r.emptySearchEnabled=a&&"true"===a.val(),r.keywordsInput=r.form.one(".search-bar-keywords-input"),r.resetStartPage=r.form.one(".search-bar-reset-start-page"),r.scopeSelect=r.form.one(".search-bar-scope-select")};e.mix(t.prototype,{_onSubmit(e){e.stopPropagation(),this.search()},getKeywords(){if(!this.keywordsInput)return"";return this.keywordsInput.val().replace(/^\s+|\s+$/,"")},isSubmitEnabled(){return""!==this.getKeywords()||this.emptySearchEnabled},search(){const e=this;if(e.isSubmitEnabled()){const t=e.form.get("action"),r=e.updateQueryString(document.location.search);document.location.href=t+r}},updateQueryString(e){const t=this,r=new URLSearchParams(e);return t.keywordsInput&&r.set(t.keywordsInput.get("name"),t.getKeywords()),t.resetStartPage&&r.delete(t.resetStartPage.get("name")),t.scopeSelect&&r.set(t.scopeSelect.get("name"),t.scopeSelect.val()),r.delete("p_p_id"),r.delete("p_p_state"),r.delete("start"),"?"+r.toString()}}),Liferay.namespace("Search").SearchBar=t}),"");

